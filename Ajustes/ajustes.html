<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SASA — Ajustes</title>

  <!-- Iconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- Estilos (usa tu hoja unificada de ajustes) -->
  <link rel="stylesheet" href="../CSS/ajustes.css" />
</head>
<body>

  <!-- Overlay para el menú lateral -->
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <!-- Menú lateral unificado -->
  <aside id="profileMenu" class="profile-menu" aria-label="Menú de usuario">
    <button class="close-btn" id="closeMenu" aria-label="Cerrar menú">
      <i class="fa-solid fa-xmark"></i>
    </button>

    <header class="menu-header">
      <div class="avatar-circle">
        <i class="fa-solid fa-user"></i>
      </div>
      <div>
        <h3 id="menuNombre" class="menu-name">Usuario</h3>
        <p id="menuRol" class="menu-role">Cliente</p>
        <p class="menu-id">ID: <span id="menuUserId">—</span></p>
      </div>
    </header>

    <nav class="menu-list">
      <a href="../Perfil/perfil.html" class="menu-item">
        <i class="fa-regular fa-user"></i>
        <span>Perfil</span>
      </a>
      <a href="../Notificaciones/notificaciones.html" class="menu-item">
        <i class="fa-regular fa-bell"></i>
        <span>Notificaciones</span>
      </a>
      <a href="../Facturas/facturas.html" class="menu-item">
        <i class="fa-solid fa-receipt"></i>
        <span>Facturas</span>
      </a>
      <a href="../Pagos/pagos.html" class="menu-item">
        <i class="fa-regular fa-credit-card"></i>
        <span>Pagos</span>
      </a>
      <a href="../Authenticator/login.html" id="logoutBtn" class="menu-item danger">
        <i class="fa-solid fa-right-from-bracket"></i>
        <span>Cerrar sesión</span>
      </a>
    </nav>
  </aside>

  <!-- Contenido principal con topbar unificada -->
  <main class="app-shell">
    <header class="topbar">
      <h1 class="page-title">Ajustes</h1>
      <button class="avatar" id="menuToggle" aria-label="Abrir menú">
        <i class="fa-solid fa-circle-notch avatar-gear"></i>
      </button>
    </header>

    <!-- Info de usuario -->
    <section class="section">
      <div class="card user-card">
        <h2 id="nombreCompleto" class="user-name">Cargando…</h2>
        <p id="rolUsuario" class="user-role">Cliente</p>
        <p class="user-id">ID de usuario: <strong id="userId">Cargando…</strong></p>
        <div class="user-avatar">
          <i class="fa-regular fa-circle-user"></i>
        </div>
      </div>
    </section>

    <!-- Opciones de edición -->
    <section class="section">
      <div class="card">
        <div class="edit-section">
          <button class="btn-edit toggle-nombre" type="button">
            Cambiar nombre <i class="fa-solid fa-pen ms-2"></i>
          </button>
          <div class="form-nombre" style="display:none;">
            <input type="text" id="nuevoNombre" class="input mt-2" placeholder="Nuevo nombre completo" />
            <button class="btn primary mt-2" id="guardarNombre">Guardar cambios</button>
          </div>
        </div>
      </div>

      <div class="card mt-12">
        <div class="edit-section">
          <button class="btn-edit toggle-pass" type="button">
            Cambiar contraseña <i class="fa-solid fa-pen ms-2"></i>
          </button>
          <div class="form-pass" style="display:none;">
            <input type="password" id="nuevaPass" class="input mt-2" placeholder="Nueva contraseña" />
            <button class="btn primary mt-2" id="guardarPass">Guardar cambios</button>
          </div>
        </div>
      </div>

      <div class="card mt-12">
        <button class="btn danger w100 cerrar-sesion" type="button">Cerrar sesión</button>
      </div>
    </section>
  </main>

  <!-- Barra inferior unificada (tabbar) -->
  <nav class="tabbar" aria-label="Navegación principal">
    <a class="tabbar__btn" href="../dashboard/index.html" title="Inicio">
      <i class="fa-solid fa-house"></i>
    </a>
    <a class="tabbar__btn" href="../Notificaciones/notificaciones.html" title="Notificaciones">
      <i class="fa-regular fa-bell"></i>
    </a>
    <a class="tabbar__btn" href="../Facturas/facturas.html" title="Facturas">
      <i class="fa-solid fa-receipt"></i>
    </a>
    <a class="tabbar__btn active" href="../Ajustes/ajustes.html" aria-current="page" title="Perfil / Ajustes">
      <i class="fa-solid fa-user"></i>
    </a>
  </nav>

  <!-- Scripts -->
     <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script src="../JS/ajustes.js" defer></script>
</body>
</html>
