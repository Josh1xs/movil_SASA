:root{
  --app-bg:#f3f4f6; --card:#ffffff; --chip:#eef0f3;
  --text:#1f2937; --muted:#6b7280; --ink:#111827;
  --brand:#c91a1a; --white:#ffffff; --line:#e5e7eb;
  --shadow:0 10px 22px rgba(0,0,0,.06);
  --radius-xl:22px; --radius-lg:18px; --radius-md:14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--app-bg)}

.overlay{position:fixed;inset:0;background:rgba(0,0,0,.35);opacity:0;pointer-events:none;transition:.2s;z-index:20}
.overlay.show{opacity:1;pointer-events:auto}


.profile-menu{
  position:fixed;top:0;right:0;height:100dvh;width:84%;max-width:360px;background:#101012;color:#f4f4f4;
  transform:translateX(100%);transition:transform .25s ease;box-shadow:-16px 0 40px rgba(0,0,0,.35);z-index:30;padding:18px 16px 24px
}
.profile-menu.open{transform:translateX(0)}
.close-btn{position:absolute;right:12px;top:12px;width:40px;height:40px;border:none;border-radius:12px;background:rgba(255,255,255,.08);color:#fff}
.menu-header.no-avatar{margin-top:10px}
.menu-user h3{margin:0 0 4px;color:#fff}
.muted{color:#b8b8c1;margin:0}
.small{font-size:.85rem}
.menu-list{display:grid;gap:6px;margin-top:16px}
.menu-list a{display:flex;align-items:center;gap:12px;padding:12px 10px;text-decoration:none;color:#f4f4f4;border-radius:12px}
.menu-list a:hover{background:rgba(255,255,255,.06)}
.menu-list a.danger{color:#ffd5d5}


.app-shell{max-width:430px;min-height:100dvh;margin:0 auto;padding:20px 18px 96px}
.topbar{display:grid;grid-template-columns:1fr auto;align-items:center;gap:12px}
.page-title{margin:0;color:var(--ink)}
.avatar{width:44px;height:44px;border-radius:50%;display:grid;place-items:center;background:#fff;color:var(--brand);outline:2px solid #e5e7eb;border:none}
.avatar-gear{font-size:20px;color:var(--brand)}
.avatar.spin .avatar-gear{animation:spin .6s linear}
@keyframes spin{to{transform:rotate(360deg)}}

.section{margin:22px 0}
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius-xl);box-shadow:var(--shadow);overflow:hidden}
.card-header{padding:12px 16px;border-bottom:1px solid var(--line);font-weight:800;color:var(--ink)}
.card-body{padding:16px}


.kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.kpi{background:#fff;border:1px solid var(--line);border-radius:16px;padding:12px;text-align:center;box-shadow:var(--shadow)}
.kpi span{display:block;font-weight:800;font-size:18px;color:var(--ink)}
.kpi small{color:var(--muted)}


.table-wrap{width:100%;overflow:auto;border:1px solid var(--line);border-radius:14px}
.table{border-collapse:separate;border-spacing:0;width:100%;min-width:680px}
.table th,.table td{padding:10px 12px;border-bottom:1px solid var(--line);text-align:left}
.table thead th{background:#fafafa;font-size:12px;color:var(--muted)}
.table tbody tr:hover{background:#faf8f8}
.table tbody tr.is-selected{background:#f3f4f6}
.w-actions{width:210px}


.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid var(--line);border-radius:999px;background:#fff;color:#111827;text-decoration:none;cursor:pointer;transition:transform .06s ease}
.btn-ghost{background:transparent}
.btn-primary{background:var(--brand);color:#fff;border-color:var(--brand)}
.btn:active{transform:scale(.985)}
button.icon{display:inline-flex;align-items:center;justify-content:center;height:36px;border-radius:10px;border:1px solid var(--line);background:#fff;padding:0 10px;font-weight:700}
button.icon.arch{background:#fff1f2;border-color:#fecaca;color:#b91c1c}
button.icon.unarch{background:#ecfdf5;border-color:#a7f3d0;color:#065f46}


.badge{display:inline-block;font-size:12px;border:1px solid var(--line);border-radius:999px;padding:4px 8px;font-weight:700}
.state-Creada{background:#fff8f1;border-color:#fed7aa}
.state-Proceso{background:#f0f9ff;border-color:#bae6fd}
.state-Entregada{background:#ecfdf5;border-color:#a7f3d0}
.state-Cancelada{background:#fef2f2;border-color:#fecaca}
.state-Archivada{background:#e5e7eb;border-color:#cbd5e1;color:#475569}


.pager{display:flex;align-items:center;gap:12px;justify-content:center;margin-top:12px}
.muted{color:var(--muted)}


.detail-grid{display:grid;gap:12px}
.detail-header{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}
.detail-meta p{margin:0 0 4px;color:var(--muted)}
.detail-meta strong{color:var(--ink)}
.detail-table{border-collapse:separate;border-spacing:0;width:100%;min-width:520px}
.detail-table th,.detail-table td{padding:10px 12px;border-bottom:1px solid var(--line);text-align:left}
.detail-table thead th{background:#fafafa;font-size:12px;color:var(--muted)}
.detail-total{display:flex;justify-content:flex-end;padding:10px 12px;font-weight:800;color:var(--ink)}


.tabbar{
  position:fixed;left:50%;transform:translateX(-50%);bottom:16px;
  width:min(430px - 24px, calc(100% - 24px));
  background:#ffffff;border:1px solid #e5e7eb;border-radius:24px;padding:12px 14px;
  display:grid;grid-template-columns:repeat(4,1fr);gap:6px;box-shadow:var(--shadow);z-index:25
}
.tabbar__btn{height:44px;display:grid;place-items:center;color:#1f2937;text-decoration:none;border-radius:14px;font-size:18px;background:transparent;border:none}
.tabbar__btn.active,.tabbar__btn[href*="OrdenTrabajo"]{background:var(--brand);color:#fff}


.card:focus-visible,.tabbar__btn:focus-visible,.btn:focus-visible,button.icon:focus-visible{outline:3px solid #ef4444;outline-offset:2px}

:root {
  --app-bg: #f3f4f6;
  --card: #ffffff;
  --chip: #fef2f2;
  --text: #1f2937;
  --muted: #6b7280;
  --ink: #111827;
  --brand: #c91a1a;
  --brand-soft: #fef2f2;
  --brand-dark: #7c1c1c;
  --white: #ffffff;
  --line: #e5e7eb;
  --shadow: 0 10px 22px rgba(0, 0, 0, 0.06);
  --radius-xl: 22px;
  --radius-md: 14px;
}

body {
  margin: 0;
  font-family: "Poppins", system-ui, sans-serif;
  color: var(--text);
  background: var(--app-bg);
}


.card {
  background: var(--card);
  border-radius: var(--radius-xl);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  overflow: hidden;
}

.card-header {
  padding: 12px 16px;
  font-weight: 800;
  color: var(--white);
  background: linear-gradient(90deg, var(--brand), var(--brand-dark));
  border-bottom: 2px solid var(--brand-dark);
}

.card-body {
  padding: 16px;
}


.kpi {
  background: var(--white);
  border: 2px solid var(--brand);
  border-radius: 16px;
  text-align: center;
  padding: 10px;
  box-shadow: 0 6px 16px rgba(201, 26, 26, 0.08);
}
.kpi span {
  color: var(--brand);
  font-weight: 800;
  font-size: 20px;
}
.kpi small {
  color: var(--muted);
}


.table-wrap {
  width: 100%;
  overflow: auto;
  border-radius: 14px;
  border: 2px solid var(--brand-soft);
}

.table {
  width: 100%;
  border-collapse: collapse;
  min-width: 680px;
}

.table thead {
  background: var(--brand);
  color: var(--white);
}
.table th,
.table td {
  padding: 10px 12px;
  text-align: left;
  border-bottom: 1px solid var(--line);
}

.table tbody tr:hover {
  background: var(--brand-soft);
}
.table tr.is-selected {
  background: #fde2e2;
  border-left: 4px solid var(--brand);
}


button.icon {
  border: 1px solid var(--line);
  background: var(--white);
  border-radius: 10px;
  color: var(--text);
  font-weight: 700;
  padding: 6px 10px;
  cursor: pointer;
  transition: 0.15s;
}

button.icon:hover {
  background: var(--brand);
  color: #fff;
  border-color: var(--brand);
}

button.icon.arch {
  background: #fff1f2;
  border-color: #fecaca;
  color: #b91c1c;
}

button.icon.unarch {
  background: #ecfdf5;
  border-color: #a7f3d0;
  color: #065f46;
}

.badge {
  display: inline-block;
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 999px;
  font-weight: 700;
  border: 1px solid var(--brand);
  color: var(--brand);
  background: var(--brand-soft);
}


.pager button {
  border: none;
  background: var(--brand);
  color: #fff;
  border-radius: 10px;
  padding: 8px 12px;
  transition: 0.15s;
}
.pager button:hover {
  background: var(--brand-dark);
}


#detalleCard {
  margin-top: 20px;
  border: 2px solid var(--brand-soft);
  border-radius: var(--radius-md);
  background: var(--white);
  padding: 16px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.05);
}
#detalleCard h3 {
  margin-top: 0;
  color: var(--brand-dark);
}
#tablaDetalle td {
  padding: 6px 8px;
}
#dTotal {
  color: var(--brand);
  font-weight: 800;
}
/* ======== ESTADO VACÍO ======== */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2.2rem 1rem;
  color: var(--muted);
  animation: fadeIn .3s ease;
}
.empty-state .empty-icon {
  font-size: 2.8rem;
  color: var(--brand);
  margin-bottom: 0.6rem;
}

/* ======== LISTA DE ÓRDENES ======== */
.ordenes-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  animation: fadeIn .25s ease;
}

.orden-card {
  background: var(--white);
  border: 1px solid var(--line);
  border-radius: var(--radius-md);
  padding: 12px 14px;
  box-shadow: var(--shadow);
  transition: all .15s ease;
  cursor: pointer;
}
.orden-card:hover {
  transform: scale(1.01);
  border-color: var(--brand);
}

.orden-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 700;
  color: var(--ink);
}
.orden-card-header span {
  font-size: 0.9rem;
  color: var(--muted);
}

.orden-card-body {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  margin-top: 6px;
}

.orden-vehiculo {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--text);
}
.orden-total {
  color: var(--brand);
  font-weight: 800;
  font-size: 1rem;
}

/* Estados visuales */
.estado {
  display: inline-block;
  padding: 3px 10px;
  font-size: 0.75rem;
  font-weight: 700;
  border-radius: 999px;
  text-transform: capitalize;
  border: 1px solid var(--line);
}
.estado.Creada { background: #fff8f1; border-color: #fed7aa; color: #92400e; }
.estado.Proceso { background: #eff6ff; border-color: #bfdbfe; color: #1e3a8a; }
.estado.Entregada { background: #ecfdf5; border-color: #a7f3d0; color: #065f46; }
.estado.Cancelada { background: #fef2f2; border-color: #fecaca; color: #b91c1c; }

/* ======== ANIMACIONES ======== */
@keyframes fadeIn {
  from {opacity: 0; transform: translateY(8px);}
  to {opacity: 1; transform: translateY(0);}
}
