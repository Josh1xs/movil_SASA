:root{
  --app-bg:#f3f4f6;           /* gris claro */
  --brand:#c91a1a;            /* rojo acento */
  --brand-2:#c91a1a;
  --card:#ffffff;             /* tarjetas planas */
  --ink:#111827;              /* texto principal */
  --text:#1f2937;             /* cuerpo */
  --muted:#6b7280;            /* texto suave */
  --white:#fff;
  --chip:#eef0f3; --chip-ink:#374151;
  --shadow:0 8px 20px rgba(0,0,0,.06);
  --radius-xl:22px; --radius-lg:18px; --radius-md:14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:var(--app-bg); color:var(--text)}

.hidden{display:none!important}

.app-shell{max-width:430px; margin:0 auto; min-height:100dvh; padding:20px 16px 96px}
.section{margin:16px 0}

/* Topbar */
.topbar{display:grid;grid-template-columns:1fr auto;align-items:center}
.page-title{color:var(--ink);margin:0}
.avatar{width:44px;height:44px;border-radius:50%;display:grid;place-items:center;background:#e5e7eb;color:#111;border:none;outline:2px solid #d1d5db}
.avatar-gear{font-size:20px}
.avatar.spin .avatar-gear{animation:spin .6s linear}
@keyframes spin{to{transform:rotate(360deg)}}

/* Botón añadir */
.head-actions{display:flex;justify-content:flex-end}
.add-link{
  display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;
  font-weight:700;text-decoration:none;color:#fff;background:var(--brand);
  box-shadow:var(--shadow); transition:filter .2s ease, transform .06s ease;
}
.add-link:active{transform:scale(.98)}
.add-link:hover{filter:brightness(1.06)}

/* Grid tarjetas */
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:420px){ .grid{grid-template-columns:1fr} }

.card{background:var(--card); border-radius:var(--radius-xl); box-shadow:var(--shadow);}

/* Tarjeta vehículo */
.vcard{
  padding:12px; display:grid; grid-template-columns:1fr; gap:8px; position:relative;
  transition:transform .12s ease, box-shadow .2s ease;
}
.vcard:hover{ transform:translateY(-2px); box-shadow:0 14px 28px rgba(0,0,0,.12) }

.vbody h3{margin:2px 0 4px; font-size:16px; color:var(--ink)}
.vbody p{margin:2px 0; color:var(--muted); font-size:.95rem}
.desc{margin-top:6px; color:#374151}

.meta{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.chip{background:var(--chip); color:var(--chip-ink); border-radius:999px; padding:6px 10px; font-weight:700; font-size:.85rem}

/* Acciones */
.actions{
  position:absolute; right:8px; bottom:8px; display:flex; gap:8px;
}
.btn-icon{
  width:38px;height:38px;border-radius:12px;border:none;display:grid;place-items:center;cursor:pointer;
  background:#ffffff; color:var(--brand); box-shadow:var(--shadow);
  transition:transform .06s ease, box-shadow .15s ease, filter .2s ease;
}
.btn-icon:hover{ box-shadow:0 12px 24px rgba(0,0,0,.12); filter:brightness(1.02) }
.btn-icon:active{ transform:scale(.96) }

/* Estados vacíos */
.muted{ color:#6b7280; }
.empty{ background:var(--card); border-radius:var(--radius-xl); box-shadow:var(--shadow); padding:16px; text-align:center; color:#555;}

/* Formulario (Añadir/Editar) */
.form{ padding:14px; }
.grid-form{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.grid-form .full{ grid-column:1 / -1; }

.label{display:block;font-weight:700;margin-bottom:6px;color:var(--ink)}
.input,.select{
  width:100%; height:44px; padding:10px 12px; border-radius:12px;
  border:1px solid #d1d5db; outline:none; background:#fff; color:var(--text);
  transition:border .15s ease, box-shadow .15s ease;
}
.input:focus,.select:focus{border-color:#c91a1a; box-shadow:0 0 0 3px rgba(201,26,26,.12)}

.btns{ display:grid; gap:8px; margin-top:6px; }
.btn{height:46px; border:none; border-radius:14px; font-weight:700; cursor:pointer;
  transition:transform .06s ease, box-shadow .15s ease, filter .2s ease}
.btn:active{transform:scale(.98)}
.btn.primary{background:var(--brand); color:#fff}
.btn.primary:hover{filter:brightness(1.06)}
.btn.ghost{background:#eef0f3; color:#111}
.btn.danger{background:#ef4444; color:#fff}
.w100{width:100%}

/* Sidebar */
.overlay{position:fixed; inset:0; background:rgba(0,0,0,.35); opacity:0; pointer-events:none; transition:.2s; z-index:20}
.overlay.show{opacity:1; pointer-events:auto}
.profile-menu{
  position:fixed; top:0; right:0; height:100dvh; width:84%; max-width:360px; background:#101012; color:#f4f4f4;
  transform:translateX(100%); transition:.25s; z-index:30; padding:18px 16px 24px; box-shadow:-16px 0 40px rgba(0,0,0,.35)
}
.profile-menu.open{transform:translateX(0)}
.close-btn{position:absolute; right:12px; top:12px; width:40px; height:40px; border:none; border-radius:12px; background:rgba(255,255,255,.08); color:#fff}
.menu-header{margin-top:8px}
.menu-user h3{margin:0 0 4px}
.small{font-size:.85rem}
.menu-list{display:grid; gap:6px; margin-top:16px}
.menu-list a{display:flex;align-items:center;gap:12px;padding:12px 10px;text-decoration:none;color:#f4f4f4;border-radius:12px}
.menu-list a:hover{background:rgba(255,255,255,.06)}
.menu-list a.danger{color:#ffd5d5}

/* Tabbar unificada */
.tabbar{
  position:fixed; left:50%; transform:translateX(-50%); bottom:16px;
  width:min(430px - 24px, calc(100% - 24px));
  background:#ffffff; border:1px solid #e5e7eb;
  border-radius:24px; padding:12px 14px;
  display:grid; grid-template-columns:repeat(4,1fr); gap:6px; box-shadow:var(--shadow)
}
.tabbar__btn{height:44px;display:grid;place-items:center;color:#1f2937;text-decoration:none;border-radius:14px;font-size:18px;background:transparent;border:none}
.tabbar__btn.active{background:#c91a1a;color:#fff;outline:none}
