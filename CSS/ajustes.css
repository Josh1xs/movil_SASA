/* ===========================
   SASA — AJUSTES (unificado)
   =========================== */
:root{
  /* paleta login */
  --app-bg:#f4f6f8;
  --brand:#c91a1a;
  --brand-2:#a50f0f;
  --card:#ffffff;
  --ink:#111;
  --text:#2a2a2a;
  --muted:#6d6d6d;
  --white:#fff;

  --shadow:0 8px 24px rgba(0,0,0,.10);
  --ring:0 0 0 3px rgba(201,26,26,.16);

  --radius-xl:22px;
  --radius-lg:18px;
  --radius-md:14px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--app-bg);
  color:var(--text);
}

/* ============ LAYOUT ============ */
.app-shell{
  max-width:430px;
  margin:0 auto;
  min-height:100dvh;
  padding:20px 16px 104px; /* espacio para la tabbar */
}

/* ============ TOPBAR ============ */
.topbar{
  display:grid;
  grid-template-columns:1fr auto;
  align-items:center;
}
.page-title{ margin:0; color:var(--ink); font-weight:700; }
.avatar{
  width:44px; height:44px; border-radius:50%;
  display:grid; place-items:center;
  background:#ececec; color:#333; border:none;
  outline:2px solid rgba(0,0,0,.08);
}
.avatar-gear{ font-size:20px; }
.avatar.spin .avatar-gear{ animation:spin .6s linear; }
@keyframes spin{ to{ transform:rotate(360deg); } }

.section{ margin:18px 0; }

/* ============ CARDS / CONTENIDO ============ */
.card{
  background:var(--card);
  border:1px solid #ececec;
  border-radius:var(--radius-xl);
  box-shadow:var(--shadow);
  padding:16px;
}

.user-card{
  text-align:center;
}
.user-name{ margin:0 0 4px; font-size:20px; color:var(--ink); }
.user-role{ margin:0; color:var(--muted); }
.user-id{ margin:.25rem 0 1rem; color:#8b8b8b; }
.user-avatar{
  width:72px; height:72px; border-radius:50%;
  display:grid; place-items:center;
  margin:10px auto 0;
  background:#f2f2f2; color:#999; font-size:42px;
}

/* Inputs / botones coherentes con resto */
.input{
  width:100%; height:44px;
  border:1px solid #ddd; border-radius:12px;
  background:#fff; color:#222;
  padding:10px 12px; outline:none;
  transition:border .15s ease, box-shadow .15s ease, transform .06s ease;
}
.input:focus{ border-color:#cfcfcf; box-shadow:var(--ring); transform:translateY(-1px); }

.btn{
  height:46px; border:none; border-radius:14px;
  font-weight:700; cursor:pointer;
  padding:0 14px;
  transition:transform .06s ease, filter .2s ease, box-shadow .15s ease;
}
.btn:active{ transform:scale(.98); }
.btn.primary{ color:#fff; background:linear-gradient(180deg,var(--brand),var(--brand-2)); }
.btn.primary:hover{ filter:brightness(1.03); }
.btn.danger{ background:var(--brand); color:#fff; }
.w100{ width:100%; }
.mt-2{ margin-top:.5rem; }
.mt-12{ margin-top:12px; }

/* Bloques de edición */
.edit-section{
  border-radius:14px;
  background:linear-gradient(to bottom right,#fff,#f8f8f8);
  border:1px solid #e3e3e3;
  box-shadow:0 6px 12px rgba(0,0,0,.05);
  padding:14px;
}
.btn-edit{
  width:100%;
  background:#fff;
  color:var(--brand);
  border:1.5px solid var(--brand);
  border-radius:10px;
  padding:10px 14px;
  font-weight:700;
  display:flex; align-items:center; justify-content:space-between;
  transition:background .2s, color .2s, transform .1s;
}
.btn-edit:hover{ background:var(--brand); color:#fff; }

/* ============ MENU LATERAL (claro) ============ */
.overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  opacity:0; pointer-events:none; transition:.2s; z-index:40;
}
.overlay.show{ opacity:1; pointer-events:auto; }

.profile-menu{
  position:fixed; top:0; right:0;
  height:100dvh; width:84%; max-width:360px;
  background:#fff; color:var(--text);
  transform:translateX(100%);
  transition:transform .25s ease; z-index:50;
  padding:18px 16px 24px;
  box-shadow:-16px 0 40px rgba(0,0,0,.15);
  border-left:1px solid #ececec;
}
.profile-menu.open{ transform:translateX(0); }
.close-btn{
  position:absolute; right:12px; top:12px;
  width:40px; height:40px; border:none; border-radius:12px;
  background:#f0f0f0; color:#444; display:grid; place-items:center;
}
.menu-header{
  display:grid; grid-template-columns:56px 1fr; gap:12px; align-items:center; margin-top:8px;
}
.avatar-circle{
  width:56px; height:56px; border-radius:50%; display:grid; place-items:center;
  background:#f2f2f2; color:#9a9a9a; font-size:22px;
}
.menu-name{ margin:0; color:var(--ink); }
.menu-role{ margin:0; color:var(--muted); }
.menu-id{ margin:2px 0 0; color:#9a9a9a; font-size:.9rem; }

.menu-list{ display:grid; gap:6px; margin-top:16px; }
.menu-item{
  display:flex; align-items:center; gap:12px;
  padding:12px 10px; text-decoration:none;
  color:var(--text); border-radius:12px;
}
.menu-item:hover{ background:#f6f6f6; }
.menu-item.danger{ color:var(--brand); }

/* ============ TABBAR BLANCA (unificada) ============ */
.tabbar{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:16px;
  width:min(430px - 24px, calc(100% - 24px));
  background:#fff; border:1px solid #e0e0e0;
  border-radius:24px; padding:12px 14px;
  display:grid; grid-template-columns:repeat(4,1fr); gap:6px;
  box-shadow:0 -4px 18px rgba(0,0,0,.12);
  z-index:35;
}
.tabbar__btn{
  height:44px; display:grid; place-items:center;
  color:#8a8a8a; font-size:18px; border:none;
  background:transparent; border-radius:14px; text-decoration:none;
}
.tabbar__btn.active,
.tabbar__btn[aria-current="page"]{
  color:var(--brand);
  background:rgba(201,26,26,.12); /* píldora activa como el ejemplo */
}

/* Accesibilidad focus */
.tabbar__btn:focus-visible,
.menu-item:focus-visible,
.btn:focus-visible,
.input:focus-visible,
.btn-edit:focus-visible{
  outline:3px solid rgba(201,26,26,.25);
  outline-offset:2px;
}
