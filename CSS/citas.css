:root{
  --app-bg:#7c1c1c; --brand:#7c1c1c; --brand-2:#8a2424;
  --card:#fcfbf9; --ink:#121212; --text:#2a2a2a; --muted:#6d6d6d; --white:#fff;
  --shadow:0 8px 24px rgba(0,0,0,.12);
  --radius-xl:22px; --radius-lg:18px; --radius-md:14px;
  --soft-red: rgba(124,28,28,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--app-bg); color:var(--text);
}

.app-shell{max-width:430px; margin:0 auto; min-height:100dvh; padding:20px 16px 96px}

/* Topbar */
.topbar{display:grid; grid-template-columns:1fr auto; align-items:center}
.page-title{color:#fff; margin:0}
.avatar{width:44px;height:44px;border-radius:50%;display:grid;place-items:center;background:rgba(255,255,255,.15);color:#fff;border:none;outline:2px solid rgba(255,255,255,.25)}
.avatar-gear{font-size:20px}
.avatar.spin .avatar-gear{animation:spin .6s linear}
@keyframes spin{to{transform:rotate(360deg)}}

/* Secciones */
.section{margin:16px 0}
.section-title{color:#fff;margin:6px 0 10px}

/* Tarjetas / formularios */
.card{background:var(--card); border-radius:var(--radius-xl); box-shadow:var(--shadow); padding:14px}
.form .field{margin-bottom:12px}
.label{display:block; font-weight:700; margin-bottom:6px}
.input,.select{
  width:100%; height:44px; padding:10px 12px; border-radius:12px; border:1px solid #ddd; outline:none;
  transition:border .15s ease, box-shadow .15s ease;
}
.input:focus,.select:focus{border-color:#e9bdbd; box-shadow:0 0 0 3px rgba(255,255,255,.2)}
.subhint{font-size:.875rem; color:#6b6b6b; margin-top:4px}

/* Botones */
.btn{height:46px; border:none; border-radius:14px; font-weight:700; cursor:pointer; transition:transform .06s ease, box-shadow .15s ease}
.btn:active{transform:scale(.98)}
.btn.primary{background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#fff}
.btn.ghost{background:#f2f2f2}
.btn.danger{background:#c91a1a; color:#fff; text-align:center; display:grid; place-items:center; text-decoration:none}
.w100{width:100%}

/* Calendario */
.calendar-box{padding:12px 12px 8px}
.calendar-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.month{margin:0;color:#333}
.nav{width:40px;height:40px;border:none;border-radius:10px;background:#c91a1a;color:#fff;display:grid;place-items:center}
.nav:active{transform:scale(.98)}
.hint{color:#6d6d6d;margin:8px 0 0}

.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
.cal-cell{
  height:36px; display:grid; place-items:center; border-radius:10px; font-weight:700; color:#333;
  background:#f5f5f5; transition:background .15s ease, transform .12s ease;
}
.cal-cell.header{background:#7c1c1c; color:#fff}
.cal-cell.muted{opacity:.45; pointer-events:none}
.cal-cell.in-range{background:var(--soft-red)}
.cal-cell.selectable:hover{background:#ececec; transform:translateY(-1px)}
.cal-cell.selected{background:#212121; color:#fff}

/* ===== NUEVO: Listado de citas (enlaces bonitos) ===== */
.cita-item{
  display:block;
  text-decoration:none;
  color:inherit;              /* sin azul/link */
}
.cita-item:link,
.cita-item:visited{ color: inherit; }

.cita-card{
  position: relative;
  padding: 12px 14px;
  border-radius: 14px;
  background: var(--card);
  border-left: 6px solid var(--brand);
  box-shadow: var(--shadow);
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
  margin-bottom: 12px;
}
.cita-item:hover .cita-card{
  transform: translateY(-1px);
  box-shadow: 0 14px 28px rgba(0,0,0,.14);
  background: #fffdfa;
}
.cita-title{
  margin:0 0 2px;
  font-size:16px;
  font-weight:700;
  color:#111;
}
.cita-sub{
  margin:0;
  color:#6d6d6d;
  font-size:.92rem;
}

/* Bot√≥n borrar flotante dentro de la tarjeta */
.cita-delete{
  position:absolute; top:8px; right:8px;
  width:36px; height:36px; border:0; border-radius:10px;
  display:grid; place-items:center;
  background:#fff; color:#c91a1a;
  box-shadow: 0 8px 18px rgba(0,0,0,.12);
}
.cita-delete:active{ transform: scale(.98) }

/* (Compat) estilo anterior por si se usa en otra vista */
.list .item{
  background:var(--card); border-left:4px solid #c91a1a; box-shadow:0 2px 6px rgba(0,0,0,.05);
  border-radius:14px; padding:10px 12px; position:relative
}
.item h4{margin:0 0 2px; font-size:16px; color:#111}
.item .meta{color:#6d6d6d; font-size:.9rem}
.item .del{position:absolute; right:8px; top:8px; border:none; background:#c91a1a; color:#fff; border-radius:10px; width:34px;height:34px;display:grid;place-items:center}

/* Overlay + sidebar */
.overlay{position:fixed; inset:0; background:rgba(0,0,0,.35); opacity:0; pointer-events:none; transition:.2s; z-index:20}
.overlay.show{opacity:1; pointer-events:auto}
.profile-menu{
  position:fixed; top:0; right:0; height:100dvh; width:84%; max-width:360px; background:#141414; color:#f4f4f4;
  transform:translateX(100%); transition:.25s; z-index:30; padding:18px 16px 24px; box-shadow:-16px 0 40px rgba(0,0,0,.35)
}
.profile-menu.open{transform:translateX(0)}
.close-btn{position:absolute; right:12px; top:12px; width:40px; height:40px; border:none; border-radius:12px; background:rgba(255,255,255,.08); color:#fff}
.menu-header{display:grid; grid-template-columns:56px 1fr; gap:12px; align-items:center; margin-top:8px}
.menu-avatar{width:56px;height:56px;border-radius:50%;object-fit:cover}
.menu-user h3{margin:0 0 4px}
.muted{color:#bdbdbd;margin:0} .small{font-size:.85rem}
.menu-list{display:grid; gap:6px; margin-top:16px}
.menu-list a{display:flex;align-items:center;gap:12px;padding:12px 10px;text-decoration:none;color:#f4f4f4;border-radius:12px}
.menu-list a:hover{background:rgba(255,255,255,.06)}
.menu-list a.danger{color:#ffd5d5}

/* Tabbar */
.tabbar{
  position:fixed; left:50%; transform:translateX(-50%); bottom:16px;
  width:min(430px - 24px, calc(100% - 24px));
  background:linear-gradient(180deg, var(--brand), var(--brand-2));
  border-radius:24px; padding:12px 14px; display:grid; grid-template-columns:repeat(4,1fr); gap:6px; box-shadow:var(--shadow)
}
.tabbar__btn{height:44px;display:grid;place-items:center;color:#f6f6f6;text-decoration:none;border-radius:14px;font-size:18px;background:transparent;border:none}
.tabbar__btn.active{background:rgba(255,255,255,.15)}
