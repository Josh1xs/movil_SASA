/************  PALETA LOGIN (claro + rojo SASA)  ************/
:root{
  --app-bg:#f4f6f8;         /* fondo claro */
  --card:#ffffff;           /* tarjetas */
  --chip:#f0f0f0;           /* chips */
  --ink:#111111;            /* títulos */
  --text:#2a2a2a;           /* texto base */
  --muted:#6d6d6d;          /* secundario */

  --brand:#c91a1a;          /* rojo SASA */
  --brand-2:#a50f0f;        /* rojo hover */

  --shadow:0 8px 24px rgba(0,0,0,.10);
  --shadow-strong:0 12px 28px rgba(0,0,0,.16);

  --r-xxl:26px;
  --r-xl:22px;
  --r-lg:18px;
  --r-md:14px;
  --r-pill:999px;
}

/************  RESETEO Y BASE  ************/
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:var(--app-bg);
}

/************  OVERLAY + MENÚ LATERAL  ************/
.overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.35);
  opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:20;
}
.overlay.show{ opacity:1; pointer-events:auto; }

.profile-menu{
  position:fixed; top:0; right:0; height:100dvh; width:84%; max-width:360px;
  background:#fff; color:var(--text);
  transform:translateX(100%); transition:transform .25s ease;
  box-shadow:-16px 0 40px rgba(0,0,0,.35); z-index:30; padding:18px 16px 24px;
  border-left:1px solid #ececec;
}
.profile-menu.open{ transform:translateX(0) }
.close-btn{
  position:absolute; right:12px; top:12px; width:40px; height:40px;
  border:none; border-radius:12px; background:rgba(0,0,0,.06);
  color:var(--text); display:grid; place-items:center;
}
.menu-header{ display:grid; grid-template-columns:56px 1fr; gap:12px; align-items:center; margin-top:8px }
.menu-avatar{ width:56px; height:56px; border-radius:50%; object-fit:cover }
.menu-user h3{ margin:0 0 4px; color:var(--ink) }
.muted{ color:var(--muted) }
.small{ font-size:.85rem }
.menu-list{ display:grid; gap:6px; margin-top:16px }
.menu-list a{
  display:flex; align-items:center; gap:12px; padding:12px 10px; text-decoration:none;
  color:var(--text); border-radius:12px;
}
.menu-list a:hover{ background:rgba(0,0,0,.05) }
.menu-list a.danger{ color:var(--brand) }

/************  CONTENEDOR APP  ************/
.app-shell{
  max-width:430px; min-height:100dvh; margin:0 auto;
  padding:20px 18px calc(96px + env(safe-area-inset-bottom));
  background:var(--app-bg);
}

/************  TOPBAR  ************/
.topbar{
  display:grid; grid-template-columns:1fr auto; align-items:center; gap:12px; margin-top:8px;
}
.greeting h1{ margin:0 0 6px; font-size:26px; color:var(--ink) }
.greeting p{ margin:0; color:var(--muted); font-weight:500 }
.avatar{
  width:44px; height:44px; border-radius:50%;
  display:grid; place-items:center; background:rgba(0,0,0,.06);
  color:var(--text); border:none; outline:2px solid rgba(0,0,0,.08);
}
.avatar-gear{ font-size:20px }

/************  BUSCADOR (restaurado como “antes”)  ************/
.search-wrap{ margin:16px 0 8px }
.searchbar{ position:relative; }
.searchbar__input{
  width:100%; height:52px; border:none; outline:0;
  border-radius:var(--r-xxl); padding:0 58px 0 44px;
  background:#fff; color:var(--text); font-size:15px;
  box-shadow:var(--shadow);
  border:1px solid #dcdcdc;
}
.searchbar__icon{
  position:absolute; left:16px; top:50%; transform:translateY(-50%);
  color:#9a9a9a; font-size:16px; pointer-events:none;
}
.searchbar__go{
  position:absolute; right:6px; top:50%; transform:translateY(-50%);
  width:44px; height:44px; border:none; border-radius:16px;
  display:grid; place-items:center; cursor:pointer;
  background:linear-gradient(180deg,var(--brand),var(--brand-2));
  color:#fff; box-shadow:0 8px 18px rgba(0,0,0,.18);
  transition:transform .08s ease, filter .2s ease;
}
.searchbar__go:hover{ filter:brightness(1.06) }
.searchbar__go:active{ transform:translateY(calc(-50% + 1px)) }
.searchbar__go i{ font-size:16px }

/************  SECCIONES / TÍTULOS  ************/
.section{ margin:22px 0 }
.section-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px }
.section h2{ margin:0; font-size:20px; color:var(--ink) }
.view-all{ color:var(--brand); text-decoration:none; font-weight:700 }

/************  CHIPS (Hoy/Semana/Todas)  ************/
.chips{ display:flex; gap:10px; margin:10px 0 14px }
.chip{
  padding:10px 16px; border-radius:var(--r-pill);
  background:var(--chip); color:var(--text); font-weight:700; font-size:14px;
  box-shadow:inset 0 -1px 0 rgba(0,0,0,.04);
  transition:transform .12s ease;
}
.chip:hover{ transform:translateY(-1px) }
.chip-active{ background:var(--brand); color:#fff; box-shadow:0 8px 20px rgba(201,26,26,.18) }

/************  TARJETAS / LISTAS  ************/
.card{
  background:var(--card); border-radius:var(--r-xl); box-shadow:var(--shadow);
  color:var(--text); position:relative; overflow:hidden; text-decoration:none;
  border:1px solid #ececec;
}
.card-hero__img{ width:100%; height:210px; background:center/cover no-repeat }
.card-hero__overlay{
  position:absolute; inset:auto 0 0 0; padding:14px; display:grid; gap:8px; color:#fff;
  background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,.72) 70%,rgba(0,0,0,.9) 100%);
}
.stack{ display:grid; gap:14px }
.vehicle{
  display:grid; grid-template-columns:84px 1fr 18px; gap:12px; align-items:center;
  padding:12px; background:var(--card); border-radius:var(--r-md);
  box-shadow:var(--shadow); border:1px solid #ededed;
}
.vehicle__img{ width:84px; height:84px; border-radius:var(--r-md); background:#e9e9e9 center/cover no-repeat }
.vehicle__name{ margin:2px 0 6px; color:var(--ink); font-size:18px }
.vehicle__body p{ margin:2px 0; color:var(--muted) }
.vehicle__chev{ color:var(--brand) }

/************  BOTONES / ACCIONES  ************/
.btn-primary{
  background:var(--brand); color:#fff; border:none; border-radius:var(--r-pill);
  padding:12px 18px; font-weight:700; text-align:center;
  box-shadow:inset 0 -1px 0 rgba(0,0,0,.08);
  transition:background .18s ease, transform .08s ease;
}
.btn-primary:hover{ background:var(--brand-2) }
.btn-primary:active{ transform:scale(.98) }

.add-link{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border-radius:var(--r-pill); font-weight:700; text-decoration:none;
  color:#fff; background:linear-gradient(180deg,var(--brand),var(--brand-2));
  box-shadow:var(--shadow-strong);
}
.add-icon{
  width:64px; height:64px; border-radius:16px; display:grid; place-items:center;
  background:linear-gradient(180deg,var(--brand),var(--brand-2)); color:#fff; font-size:22px;
}
.fab{
  position:fixed; right:max(16px,calc(50% - 430px/2 + 16px));
  bottom:calc(16px + 64px + 12px);
  width:56px; height:56px; border-radius:50%;
  display:grid; place-items:center; color:#fff;
  background:linear-gradient(180deg,var(--brand),var(--brand-2));
  box-shadow:var(--shadow-strong), 0 8px 20px rgba(0,0,0,.25);
  z-index:40; transition:transform .12s ease, filter .2s ease;
}
.fab:hover{ filter:brightness(1.04) }
.fab:active{ transform:scale(.97) }
.fab-hide{ opacity:0; pointer-events:none; transform:translateY(10px) }

/************  TABBAR (restaurado estilo “antes”, pero claro)  ************/
.tabbar{
  position:fixed; left:50%; transform:translateX(-50%); bottom:16px;
  width:min(430px - 24px, calc(100% - 24px));
  background:#fff; border:1px solid #e0e0e0;
  border-radius:24px; padding:12px 14px;
  display:grid; grid-template-columns:repeat(4,1fr); gap:6px;
  box-shadow:0 -4px 18px rgba(0,0,0,.12);
}
.tabbar__btn{
  height:44px; border-radius:14px; display:grid; place-items:center;
  color:#8a8a8a; text-decoration:none; font-size:18px; transition:background .15s,color .15s;
}
.tabbar__btn.active,
.tabbar__btn[aria-current="page"]{
  background:rgba(201,26,26,.12); color:var(--brand);
}

/************  FOCUS  ************/
.card:focus-visible, .tabbar__btn:focus-visible, .chip:focus-visible,
.filter-btn:focus-visible, .avatar:focus-visible, .btn-primary:focus-visible,
.add-link:focus-visible, .fab:focus-visible, .searchbar__go:focus-visible{
  outline:3px solid rgba(201,26,26,.35); outline-offset:2px;
}

/************  SAFE AREA iOS  ************/
@supports (padding: env(safe-area-inset-bottom)){
  .tabbar{ padding-bottom:max(12px, env(safe-area-inset-bottom)) }
  .fab{ bottom:calc(env(safe-area-inset-bottom) + 16px + 64px + 12px) }
}
